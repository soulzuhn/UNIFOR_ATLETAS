import{M as h}from"./main-wURK7Rzl.js";import{s,a as f}from"./modal-DdRFM3Ou.js";document.getElementById("nome").textContent=localStorage.getItem("usuario");function p(){localStorage.clear(),window.location.href="loginCoord.html"}window.logout=p;document.getElementById("cadastro-form").addEventListener("submit",async t=>{t.preventDefault();const a=localStorage.getItem("token"),o=localStorage.getItem("usuario"),n=document.getElementById("novoUsuario").value,e=document.getElementById("email").value,r=document.getElementById("senha").value,i=await fetch("https://unifor-atletas.onrender.com/api/usuarios/cadastrar-treinador",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({usuarioLogado:o,novoUsuario:n,email:e,senha:r})}),g=await i.json();i.ok?(s("Alerta","Treinador cadastrado com sucesso!"),document.getElementById("cadastro-form").reset(),d()):s("Alerta",g.mensagem||"Erro ao cadastrar.")});async function d(){const t=localStorage.getItem("token"),o=await(await fetch("https://unifor-atletas.onrender.com/api/usuarios/treinadores",{headers:{Authorization:`Bearer ${t}`}})).json(),n=document.getElementById("lista-treinadores");n.innerHTML="",o.forEach(e=>{const r=document.createElement("li");r.innerHTML=`
      <strong>${e.usuario}</strong> - ${e.email}
      <button onclick="editarTreinador('${e._id}', '${e.usuario}', '${e.email}')">Editar</button>
      <button onclick="removerTreinador('${e._id}')">Remover</button>
    `,n.appendChild(r)})}async function E(t){if(await f("Confirmação","Tem certeza que deseja remover este treinador?")){const o=localStorage.getItem("token"),e=await(await fetch(`https://unifor-atletas.onrender.com/api/usuarios/remover-treinador/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${o}`}})).json();s("Alerta",e.mensagem),d()}}let c;const l=document.getElementById("editTreinadorId"),m=document.getElementById("editNome"),u=document.getElementById("editEmail");function I(t,a,o){l.value=t,m.value=a,u.value=o;const n=document.getElementById("editTrainerModal");c=new h(n),c.show()}document.getElementById("editTrainerForm").addEventListener("submit",async t=>{t.preventDefault();const a=l.value,o=m.value,n=u.value,e=localStorage.getItem("token"),i=await(await fetch(`https://unifor-atletas.onrender.com/api/usuarios/editar-treinador/${a}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({nome:o,email:n})})).json();s("Alerta",i.mensagem),c.hide(),d()});d();window.editarTreinador=I;window.removerTreinador=E;
