import{M as f}from"./main-C-PKB4K0.js";import{s as i,a as g}from"./modal-C6lajCeh.js";document.getElementById("nome").textContent=localStorage.getItem("usuario");function p(){localStorage.clear(),window.location.href="loginCoord.html"}document.getElementById("cadastro-form").addEventListener("submit",async o=>{o.preventDefault();const n=localStorage.getItem("usuario"),t=document.getElementById("novoUsuario").value,e=document.getElementById("email").value,a=document.getElementById("senha").value,r=await fetch("https://unifor-atletas.onrender.com/api/usuarios/cadastrar-treinador",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usuarioLogado:n,novoUsuario:t,email:e,senha:a})}),u=await r.text();r.ok?(i("Alerta","Treinador cadastrado com sucesso!"),document.getElementById("cadastro-form").reset(),s()):i("Alerta",u)});async function s(){const n=await(await fetch("https://unifor-atletas.onrender.com/api/usuarios/treinadores")).json(),t=document.getElementById("lista-treinadores");t.innerHTML="",n.forEach(e=>{const a=document.createElement("li");a.innerHTML=`
    <strong>${e.usuario}</strong> - ${e.email}
     <button onclick="editarTreinador('${e._id}', '${e.usuario}', '${e.email}')">Editar</button>
      <button onclick="removerTreinador('${e._id}')">Remover</button>
    `,t.appendChild(a)})}async function h(o){if(await g("Confirmação","Tem certeza que deseja remover este treinador?")){const e=await(await fetch(`https://unifor-atletas.onrender.com/api/usuarios/remover-treinador/${o}`,{method:"DELETE"})).json();i("Alerta",e.mensagem),s()}}let d;const c=document.getElementById("editTreinadorId"),m=document.getElementById("editNome"),l=document.getElementById("editEmail");function E(o,n,t){c.value=o,m.value=n,l.value=t;const e=document.getElementById("editTrainerModal");d=new f(e),d.show()}document.getElementById("editTrainerForm").addEventListener("submit",async o=>{o.preventDefault();const n=c.value,t=m.value,e=l.value,r=await(await fetch(`https://unifor-atletas.onrender.com/api/usuarios/editar-treinador/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:t,email:e})})).json();i("Alerta",r.mensagem),d.hide(),s()});s();window.editarTreinador=E;window.removerTreinador=h;window.logout=p;
