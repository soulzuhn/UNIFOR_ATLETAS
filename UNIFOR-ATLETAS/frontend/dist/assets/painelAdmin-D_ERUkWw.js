import{M as g}from"./main-C-PKB4K0.js";import{s as i,a as h}from"./modal-C6lajCeh.js";document.getElementById("nome").textContent=localStorage.getItem("usuario");function p(){localStorage.clear(),window.location.href="loginCoord.html"}document.getElementById("cadastro-form").addEventListener("submit",async o=>{o.preventDefault();const a=localStorage.getItem("usuario"),t=document.getElementById("novoUsuario").value,e=document.getElementById("email").value,n=document.getElementById("senha").value,r=await fetch("http://localhost:3000/api/usuarios/cadastrar-treinador",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usuarioLogado:a,novoUsuario:t,email:e,senha:n})}),u=await r.text();r.ok?(i("Alerta","Treinador cadastrado com sucesso!"),document.getElementById("cadastro-form").reset(),s()):i("Alerta",u)});async function s(){const a=await(await fetch("http://localhost:3000/api/usuarios/treinadores")).json(),t=document.getElementById("lista-treinadores");t.innerHTML="",a.forEach(e=>{const n=document.createElement("li");n.innerHTML=`
    <strong>${e.usuario}</strong> - ${e.email}
     <button onclick="editarTreinador('${e._id}', '${e.usuario}', '${e.email}')">Editar</button>
      <button onclick="removerTreinador('${e._id}')">Remover</button>
    `,t.appendChild(n)})}async function f(o){if(await h("Confirmação","Tem certeza que deseja remover este treinador?")){const e=await(await fetch(`http://localhost:3000/api/usuarios/remover-treinador/${o}`,{method:"DELETE"})).json();i("Alerta",e.mensagem),s()}}let d;const l=document.getElementById("editTreinadorId"),c=document.getElementById("editNome"),m=document.getElementById("editEmail");function E(o,a,t){l.value=o,c.value=a,m.value=t;const e=document.getElementById("editTrainerModal");d=new g(e),d.show()}document.getElementById("editTrainerForm").addEventListener("submit",async o=>{o.preventDefault();const a=l.value,t=c.value,e=m.value,r=await(await fetch(`http://localhost:3000/api/usuarios/editar-treinador/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:t,email:e})})).json();i("Alerta",r.mensagem),d.hide(),s()});s();window.editarTreinador=E;window.removerTreinador=f;window.logout=p;
